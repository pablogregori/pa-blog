{
  "hash": "38c9da23ea854ae8bbbe2e9da4bf4101",
  "result": {
    "markdown": "---\ntitle: \"Pairs plot extended\"\nauthor: \"Pablo Gregori\"\ndate: \"2022-10-24\"\ncategories: [analysis, R]\n---\n\n\n\n\n\nI'd like to make my own `pairs` plot, because all the versions I have found are good, but they miss a point about mosaic plots that I like. I show an example using the `mtcars` dataset, summarized as:\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n      mpg             cyl             disp             hp       \n Min.   :10.40   Min.   :4.000   Min.   : 71.1   Min.   : 52.0  \n 1st Qu.:15.43   1st Qu.:4.000   1st Qu.:120.8   1st Qu.: 96.5  \n Median :19.20   Median :6.000   Median :196.3   Median :123.0  \n Mean   :20.09   Mean   :6.188   Mean   :230.7   Mean   :146.7  \n 3rd Qu.:22.80   3rd Qu.:8.000   3rd Qu.:326.0   3rd Qu.:180.0  \n Max.   :33.90   Max.   :8.000   Max.   :472.0   Max.   :335.0  \n      drat             wt             qsec             vs        \n Min.   :2.760   Min.   :1.513   Min.   :14.50   Min.   :0.0000  \n 1st Qu.:3.080   1st Qu.:2.581   1st Qu.:16.89   1st Qu.:0.0000  \n Median :3.695   Median :3.325   Median :17.71   Median :0.0000  \n Mean   :3.597   Mean   :3.217   Mean   :17.85   Mean   :0.4375  \n 3rd Qu.:3.920   3rd Qu.:3.610   3rd Qu.:18.90   3rd Qu.:1.0000  \n Max.   :4.930   Max.   :5.424   Max.   :22.90   Max.   :1.0000  \n       am              gear            carb      \n Min.   :0.0000   Min.   :3.000   Min.   :1.000  \n 1st Qu.:0.0000   1st Qu.:3.000   1st Qu.:2.000  \n Median :0.0000   Median :4.000   Median :2.000  \n Mean   :0.4062   Mean   :3.688   Mean   :2.812  \n 3rd Qu.:1.0000   3rd Qu.:4.000   3rd Qu.:4.000  \n Max.   :1.0000   Max.   :5.000   Max.   :8.000  \n```\n:::\n:::\n\n\nFirst of all, I change to, \"factor\" variables, the false numeric variables `vs`, `am`, and the convenient numeric variables `cyl`, `gear` and `carb`, and show the summary again:\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n      mpg        cyl         disp             hp             drat      \n Min.   :10.40   4:11   Min.   : 71.1   Min.   : 52.0   Min.   :2.760  \n 1st Qu.:15.43   6: 7   1st Qu.:120.8   1st Qu.: 96.5   1st Qu.:3.080  \n Median :19.20   8:14   Median :196.3   Median :123.0   Median :3.695  \n Mean   :20.09          Mean   :230.7   Mean   :146.7   Mean   :3.597  \n 3rd Qu.:22.80          3rd Qu.:326.0   3rd Qu.:180.0   3rd Qu.:3.920  \n Max.   :33.90          Max.   :472.0   Max.   :335.0   Max.   :4.930  \n       wt             qsec       vs     am     gear   carb  \n Min.   :1.513   Min.   :14.50   0:18   0:19   3:15   1: 7  \n 1st Qu.:2.581   1st Qu.:16.89   1:14   1:13   4:12   2:10  \n Median :3.325   Median :17.71                 5: 5   3: 3  \n Mean   :3.217   Mean   :17.85                        4:10  \n 3rd Qu.:3.610   3rd Qu.:18.90                        6: 1  \n Max.   :5.424   Max.   :22.90                        8: 1  \n```\n:::\n:::\n\n\n\nNow, let's see how the plain `plot` function deals with it:\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\nScatterplots for all the variables. Not the best choice.\n\nNow, let's see how the `pairs` function deals with it:\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nSame output.\n\nHadley Wickham did a good job for generalizing this kind of plots in [their paper](https://vita.had.co.nz/papers/gpp.pdf).\n\nThey talk about `gpairs` function, in package `gpairs`.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: gpairs\n```\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nBeautiful.\n\nOnly one objection. The mosaic plots show the marginal distributions of the $y$-axis variables, and the conditionals of the $x$-axis variable, given the values of the $y$-axis variables. Why?\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}